[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Main",
    "section": "",
    "text": "I’ll be doing the Advent of Code 2022 here. I’ll probably be late most days. R+tidyverse is my preferred language, but might dip into some python as needed.\n\n\n\n\n\n\n\n\n  \n\n\n\n\nDay 1\n\n\n\n\n\n\n\nR\n\n\ntidyverse\n\n\n|>\n\n\n\n\n\n\n\n\n\n\n\nDec 1, 2022\n\n\nJosef Fruehwald\n\n\n\n\n\n\n  \n\n\n\n\nDay 2\n\n\n\n\n\n\n\nR\n\n\ntidyverse\n\n\n|>\n\n\n\n\n\n\n\n\n\n\n\nDec 2, 2022\n\n\nJosef Fruehwald\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "days/2022-12-1.html",
    "href": "days/2022-12-1.html",
    "title": "Day 1",
    "section": "",
    "text": "Source: https://adventofcode.com/2022/day/1"
  },
  {
    "objectID": "days/2022-12-1.html#puzzle-text",
    "href": "days/2022-12-1.html#puzzle-text",
    "title": "Day 1",
    "section": "Puzzle Text",
    "text": "Puzzle Text\n\n--- Day 1: Calorie Counting ---\nSanta’s reindeer […]\nThe Elves take turns writing down the number of Calories contained by the various meals, snacks, rations, etc. that they’ve brought with them, one item per line. Each Elf separates their own inventory from the previous Elf’s inventory (if any) by a blank line.\nFor example, suppose the Elves finish writing their items’ Calories and end up with the following list:\n1000 \n2000 \n3000\n\n4000\n\n5000 \n6000\n\n7000 \n8000 \n9000\n\n10000\nThis list represents the Calories of the food carried by five Elves:\n\n\n\nThe first Elf is carrying food with 1000, 2000, and 3000 Calories, a total of 6000 Calories.\n\n\n\nThe second Elf is carrying one food item with 4000 Calories.\n\n\n\nThe third Elf is carrying food with 5000 and 6000 Calories, a total of 11000 Calories.\nThe fourth Elf is carrying food with 7000, 8000, and 9000 Calories, a total of 24000 Calories.\nThe fifth Elf is carrying one food item with 10000 Calories.\n\nIn case the Elves get hungry and need extra snacks, they need to know which Elf to ask: they’d like to know how many Calories are being carried by the Elf carrying the most Calories. In the example above, this is 24000 (carried by the fourth Elf).\nFind the Elf carrying the most Calories. How many total Calories is that Elf carrying?"
  },
  {
    "objectID": "days/2022-12-1.html#r-session-info",
    "href": "days/2022-12-1.html#r-session-info",
    "title": "Day 1",
    "section": "R Session Info",
    "text": "R Session Info\n\nsessionInfo()\n\nR version 4.2.1 (2022-06-23)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Monterey 12.3\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib\nLAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nloaded via a namespace (and not attached):\n [1] digest_0.6.30     jsonlite_1.8.3    magrittr_2.0.3    evaluate_0.17    \n [5] rlang_1.0.6       stringi_1.7.8     cli_3.4.1         renv_0.15.5      \n [9] rstudioapi_0.14   rmarkdown_2.17    tools_4.2.1       stringr_1.4.1    \n[13] htmlwidgets_1.5.4 xfun_0.34         yaml_2.3.6        fastmap_1.1.0    \n[17] compiler_4.2.1    htmltools_0.5.3   knitr_1.40       \n\n\n\nlibrary(tidyverse)\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0      ✔ purrr   0.3.5 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.4.1 \n✔ readr   2.1.3      ✔ forcats 0.5.2 \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\nlibrary(knitr)\nlibrary(kableExtra)\n\n\nAttaching package: 'kableExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    group_rows"
  },
  {
    "objectID": "days/2022-12-1.html#loading-data",
    "href": "days/2022-12-1.html#loading-data",
    "title": "Day 1",
    "section": "Loading Data",
    "text": "Loading Data\nFirst attempts at read_csv() were problematic because blank lines were ignored. skip_empty_rows = TRUE by default.\n\ncalories <- \n  read_csv(\n    \"2022-12-1_assets/input.txt\", \n    col_names = FALSE,\n    skip_empty_rows = FALSE\n    )\n\nRows: 2223 Columns: 1\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (1): X1\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nDouble checking there are enough NAs.\n\ncalories |>\n  count(is.na(X1)) |>\n  kbl() |>\n  kable_styling(full_width = FALSE)\n\n\n\n \n  \n    is.na(X1) \n    n \n  \n \n\n  \n    FALSE \n    2000 \n  \n  \n    TRUE \n    223"
  },
  {
    "objectID": "days/2022-12-1.html#strategy",
    "href": "days/2022-12-1.html#strategy",
    "title": "Day 1",
    "section": "Strategy",
    "text": "Strategy\nI’ll identify the rows with NA and fill them with the row index. Then fill downward. I’ll need a special rule for the first row.\n\ncalories |>\n  ## a unique id for each elf.\n  ## won't increment by 1, but will be unique\n  mutate(\n    row_idx = 1:n(),\n    elf_id = case_when(\n      is.na(X1) ~ row_idx,  \n      row_idx == 1 ~ row_idx\n    )\n  ) |>\n  ## fill in the elf id for all rows\n  fill(elf_id) |>\n  ## drop na values for summarising\n  drop_na() |>\n  ## group_by, summarise, arrange\n  group_by(elf_id) |>\n  summarise(total_calories = sum(X1)) |>\n  arrange(desc(total_calories)) |>\n  ## pull the top number \n  slice(1) |>\n  pull(total_calories)\n\n[1] 70764"
  },
  {
    "objectID": "days/2022-12-1.html#just-for-fun",
    "href": "days/2022-12-1.html#just-for-fun",
    "title": "Day 1",
    "section": "Just for fun",
    "text": "Just for fun\n\nlibrary(showtext)\n\nLoading required package: sysfonts\n\n\nLoading required package: showtextdb\n\nlibrary(ggdark)\nlibrary(scales)\n\n\nAttaching package: 'scales'\n\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\nlibrary(khroma)\n\nfont_add_google(name = \"Mountains of Christmas\", family = \"christmas\")\nshowtext_auto()\n\n\ntotal_calories <- \n  calories |>\n    ## a unique id for each elf.\n    ## won't increment by 1, but will be unique\n    mutate(\n      row_idx = 1:n(),\n      elf_id = case_when(\n        is.na(X1) ~ row_idx,  \n        row_idx == 1 ~ row_idx\n      )\n    ) |>\n    ## fill in the elf id for all rows\n    fill(elf_id) |>\n    ## drop na values for summarising\n    drop_na() |>\n    ## group_by, summarise, arrange\n    group_by(elf_id) |>\n    summarise(total_calories = sum(X1)) |>\n    arrange(desc(total_calories)) |>\n    mutate(rank = 1:n())\n\n\ntotal_calories |>\n  ggplot(aes(rank, total_calories)) + \n    geom_point()+\n    scale_x_continuous(labels = label_comma())+\n    scale_y_continuous(labels = label_comma())+\n    labs(title = \"Total calories per elf\")+\n    dark_theme_gray()+\n    theme(title = element_text(family = \"christmas\", size = 20))\n\n\n\n\nFigure 1: total calories by rank\n\n\n\n\n\ntotal_calories |>\n  arrange(elf_id) |>\n  mutate(elf_order = 1:n()) |>\n  ggplot(aes(elf_order, total_calories, color = rank)) + \n    geom_point()+\n    scale_x_continuous(labels = label_comma())+\n    scale_y_continuous(labels = label_comma())+\n    scale_color_oslo(reverse = TRUE) +\n    guides(colour = guide_colourbar(reverse = TRUE))+\n    labs(title = \"Total calories per elf\")+\n    dark_theme_gray()+\n    theme(title = element_text(family = \"christmas\", size = 20))\n\n\n\n\nFigure 2: total calories by order"
  },
  {
    "objectID": "days/2022-12-2.html",
    "href": "days/2022-12-2.html",
    "title": "Day 2",
    "section": "",
    "text": "source: https://adventofcode.com/2022/day/2\nRock paper scissors setup\n\nsessionInfo()\n\nR version 4.2.1 (2022-06-23)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Monterey 12.3\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib\nLAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nloaded via a namespace (and not attached):\n [1] digest_0.6.30     jsonlite_1.8.3    magrittr_2.0.3    evaluate_0.17    \n [5] rlang_1.0.6       stringi_1.7.8     cli_3.4.1         renv_0.15.5      \n [9] rstudioapi_0.14   rmarkdown_2.17    tools_4.2.1       stringr_1.4.1    \n[13] htmlwidgets_1.5.4 xfun_0.34         yaml_2.3.6        fastmap_1.1.0    \n[17] compiler_4.2.1    htmltools_0.5.3   knitr_1.40       \n\n\n\nlibrary(tidyverse)\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0      ✔ purrr   0.3.5 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.4.1 \n✔ readr   2.1.3      ✔ forcats 0.5.2 \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\n\n\nrock_paper_scissors_outcome <- function(player1, player2){\n  ## Draw score\n  if(player1 == player2){\n    return(3)\n  }\n  ## p2 win conditions\n  else if(player1 == \"rock\" & player2 == \"paper\"){\n    return(6)\n  }else if(player1 == \"paper\" & player2 == \"scissors\"){\n    return(6)\n  }else if(player1 == \"scissors\" & player2 == \"rock\"){\n    return(6)\n  }\n  ## else lose\n  else{\n    return(0)\n  }\n}\n\n\n# testing the function\ntribble(~p1, ~p2,\n        \"rock\", \"rock\",\n        \"rock\", \"paper\",\n        \"scissors\", \"paper\") |>\n  mutate(\n    outcome = map2(\n      p1, \n      p2, \n      rock_paper_scissors_outcome\n      ) |>\n        simplify()\n    )\n\n# A tibble: 3 × 3\n  p1       p2    outcome\n  <chr>    <chr>   <dbl>\n1 rock     rock        3\n2 rock     paper       6\n3 scissors paper       0\n\n\nI’ll use a few different joins to map the first column and the second column to \"rock\", \"paper\" and \"scissors\", and also to map player 2’s move to a score.\n\np1_map <- \n  tribble(\n    ~X1, ~p1,\n    \"A\", \"rock\",\n    \"B\", \"paper\",\n    \"C\", \"scissors\"\n  )\n\np2_map <-\n  tribble(\n    ~X2, ~p2,\n    \"X\", \"rock\",\n    \"Y\", \"paper\",\n    \"Z\", \"scissors\"\n  )\n\nscore_map <-\n  tribble(\n    ~score, ~p2,\n    1, \"rock\",\n    2, \"paper\",\n    3, \"scissors\"\n  )\n\nReading in the data.\n\nstrategy <- read_delim(\n  \"2022-12-2_assets/input.txt\", \n  col_names = FALSE,\n  delim = \" \"\n  )\n\nRows: 2500 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \" \"\nchr (2): X1, X2\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nIt’s just a few joins, then rowwise mapping of the rock_paper_scissors_outcome() function to get the score components. Adding the columns together and summarizing finishes it off.\n\nplay_score <- \n  strategy |>\n    left_join(p1_map) |>\n    left_join(p2_map) |>\n    left_join(score_map) |>\n    mutate(win = map2(\n        p1,\n        p2,\n        rock_paper_scissors_outcome\n      ) |>\n        simplify(),\n      total_score = score + win\n    )\n\nJoining, by = \"X1\"\nJoining, by = \"X2\"\nJoining, by = \"p2\"\n\n\n\nplay_score |>\n  summarise(total_score = sum(total_score))\n\n# A tibble: 1 × 1\n  total_score\n        <dbl>\n1       10624"
  }
]